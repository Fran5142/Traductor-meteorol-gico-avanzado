<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Traductor meteorol√≥gico avanzado</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

  body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 20px;
    background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color: #fff;
    cursor: default;
  }

  h1 { text-align:center; margin-bottom:10px; font-weight:600; font-size:2.2em; text-shadow:0 2px 6px rgba(0,0,0,0.4); }
  p { text-align:center; margin-bottom:30px; font-size:1em; color:#cfd8dc; }

  .btn-top {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 12px;
    margin-bottom: 20px;
  }

  button {
    padding: 12px 28px;
    border: none;
    border-radius: 12px;
    color: #fff;
    font-weight: 600;
    font-size: 1em;
    background-size: 200% 200%;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    position: relative;
    overflow: hidden;
    cursor: pointer;
  }

  #btnTraducir { background-image: linear-gradient(270deg,#0072ff,#00c6ff,#0072ff); animation: gradiente 3s ease infinite; }
  #btnReiniciar { background-image: linear-gradient(270deg,#ff416c,#ff4b2b,#ff416c); animation: gradiente 3s ease infinite; }
  #btnCopiar { background-image: linear-gradient(270deg,#ffa600,#ff6f00,#ffa600); animation: gradiente 3s ease infinite; }

  @keyframes gradiente {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  button:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.3); }
  button:active { transform: translateY(0px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

  .container {
    display:flex;
    flex-wrap:wrap;
    gap:20px;
    justify-content:center;
  }

  textarea {
    width:45%;
    min-width:300px;
    height:600px;
    padding:15px;
    font-size:16px;
    border-radius:12px;
    border:none;
    resize:none;
    color:#333;
    background-color:#f0f4f8;
    box-shadow:0 4px 12px rgba(0,0,0,0.15);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    cursor:text;
  }

  textarea:focus {
    outline:none;
    transform:translateY(-2px);
    box-shadow:0 6px 18px rgba(0,0,0,0.2);
  }

  footer {
    text-align:center;
    margin-top:40px;
    padding:15px 0;
    font-size:0.9em;
    color:#cfd8dc;
    letter-spacing:0.5px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:6px;
  }

  @media(max-width:900px){
    .container { flex-direction:column; align-items:center; }
    textarea { width:90%; }
  }
</style>
</head>
<body>

<h1>TRADUCTOR METEOROL√ìGICO AVANZADO</h1>

<div class="btn-top">
  <button id="btnTraducir" onclick="traducir()">Traducir</button>
  <button id="btnCopiar" onclick="copiarTexto()">Copiar</button>
  <button id="btnReiniciar" onclick="reiniciar()">Reiniciar</button>
</div>

<p>Pega tu texto Avisos Meteorol√≥gico en espa√±ol y se traducir√° autom√°ticamente al ingl√©s avanzado.</p>

<div class="container">
  <textarea id="input" placeholder="Texto en espa√±ol..."></textarea>
  <textarea id="output" readonly placeholder="Texto traducido al ingl√©s..."></textarea>
</div>

<script>
// üîπ Aqu√≠ defines frases completas con traducci√≥n especial
const reglasEspeciales = {

  // üëâ Puedes seguir agregando: "TEXTO EN ESPA√ëOL":"TRADUCCION EN INGLES"

  "AVISO DE":"SEVERE",
  "AVISO ESPECIAL DE CONDICIONES METEOROLOGICAS":"SPECIAL WARNING OF METEOROLOGICAL CONDITIONS",
  "EVOLUCION":"EVOLUTION",
  "VIENTO FUERTE":"STRONG WIND",
  "MAL TIEMPO":"WEATHER WARNING",
  "AVISO DE TEMPORAL":"GALE STORM WARNING",
  "TEMPORAL":"GALE",
  "UBICADO EN":"LOCATION IN",
  "LATITUD":"LATITUDE",
  "LONGITUD":"LONGITUDE",
  "SECTOR PUERTO MONTT":"PUERTO MONTT AREA",
  "ISLA BUTA CHAUQUES":"BUTA CHAUQUES ISLAND",
  "ISLA":"ISLAND",
  "SENO DE RELONCAVI":"BAY OF RELONCAVI",
  "GOLFO DE ANCUD":"GULF OF ANCUD",
  "ACCESO OCEANICO CANAL CHACAO":"OCEANIC ACCESS OF CHACAO CHANNEL",
  "GOLFO CORCOVADO":"CORCOVADO GULF",
  "ISLA DESERTORES":"DESERTORES ISLAND",
  "ISLAS SAN PEDRO":"SAN PEDRO ISLAND",

  "FARO SAN PEDRO":"SAN PEDRO LIGHTHOUSE",
  "FARO CORONA":"CORONA LIGHTHOUSE",
  "FARO RAPER":"RAPER LIGHTHOUSE",
  "FARO GUAFO":"GUAFO LIGHTHOUSE",

  "GOLFO CORONADOS":"CORONADOS GULF",
  "GOLFO DE PENAS":"PENAS GULF",
  "BOCA DEL GUAFO":"OCEANIC ACCESS OF GUAFO",
  "CANAL MORALEDA":"MORALEDA CHANNEL",
  "EN AGUAS INTERIORES":"IN INLAND WATERS",

  "AGUAS INTERIORES":"INLAND WATERS",

  "EN ACCESO OCEANICO":"IN OCEANIC ACCESS",
  "EN SECTORES ABIERTOS":"IN OPEN AREAS",
  "A.-":"A.-",
  "LOS EVENTUALES CAMBIOS A LAS CONDICIONES PREVISTAS SE INFORMARAN OPORTUNAMENTE":"THE POSSIBLE CHANGES TO THE CONDITIONS FORECASTED WILL BE REPORTED TIMELY",
  "POR EL CENTRO METEOROLOGICO MARITIMO DE PUERTO MONTT":"BY THE MARITIME METEOROLOGICAL CENTER OF PUERTO MONTT",
  "CON DESPLAZAMIENTO GENERAL":"WITH GENERAL DISPLACEMENT",
  "CENTRO DE BAJA PRESION DE": "LOW PRESSURE OF",
  "CENTRO DE ALTA PRESION DE": "HIGH PRESSURE OF",
  "ALBOLADA ALTA":"VERY HIGH",
  "A LAS":"TO THE",
  "A":"TO",
  "SECTOR OCEANICO":"OCEANIC AREA",
  "EN AREA OCEANICA":"IN OCEANIC AREA",
  "SECTOR AREA OCEANICA":"SECTOR OCEANIC AREA",
  "TRANSITORIAMENTE":"TEMPO",
  ", MAR":", SEA",


  "NORTE": "NORTH",
  "SUR": "SOUTH",
  "ESTE": "EAST",
  "WESTE": "WEST",
  "NORESTE": "NORTHEAST",
  "SURESTE": "SOUTHEAST",
  "NORWESTE": "NORTHWEST",
  "SURESTE": "SOUTHWEST"


};

// üîπ Diccionario general (traducciones palabra por palabra)
const diccionario = {


 'VALIDO':'VALID',
 'DESDE':'FROM',
 'HASTA':'TO',
 'DEL SUR':'THE SOUTH',
 'SITUACION SINOPTICA':'SYNOPTIC SITUATION',
 'PRONOSTICO':'FORECAST', 
 'MARGEN ANTICICLONICO':'ANTICYCLONIC EDGE', 
 'ANTICICLONICO':'ANTICYCLONIC', 
 'LIGERA INESTABILIDAD':'LIGHT UNSTABILITY', 
 'INESTABLE':'UNSTABLE',
 'POSTFRONTAL':'POSTFRONTAL',
 'SISTEMA FRONTAL':'FRONTAL SYSTEM',
 'PASO FRONTAL':'FRONTAL STEP',
 'NUEVO PASO FRONTAL':'NEW FRONTAL STEP',
 'INESTABILIDAD POSTFRONTAL':'POSTFRONTAL UNSTABILITY',
 'DESPLAZAMIENTO GENERAL':'GENERAL DISPLACEMENT',
 'ASOCIADO':'ASSOCIATED',
 'UBICACION':'LOCATION',
 'ANALISIS':'ANALYSIS',
 'CUBIERTO':'OVERCAST',
 'NUBLADO':'BROKEN',
 'PARCIAL':'SCATTERED',
 'DESPEJADO':'CLEAR',
 'COBIERTO':'OVERCAST',
 'NOBLADO':'BROKEN',
 'PERCIAL':'SCATTERED',
 'DASPEJDO':'CLEAR',
 'VISIBILIDAD':'VIS',
 'MUY MALA':'VERY POOR',
 'MALA':'POOR',
 'REGULAR':'AVERAGE',
 'BUENA':'GOOD',
 'VTO':'WIND',
 'VIENTO':'WIND',
 'NUDOS':'KT',
 'NDS':'KT',
 'ROLANDO':'ROTATING',
 'RACHAS':'GUST',
 'AUMENTANDO':'INCREASING',
 'DISMINUYENDO':'DECREASING',
 'VARIANDO':'BECOMING',
 'OCASIONAL':'OCCASIONAL',
 'OCASIONALES':'OCCASIONAL',
 'CHUBASCOS':'SHOWERS',
 'GRANIZOS':'HAIL',
 'PRECIPITACIONES':'PRECIPITATION',
 'LLOVIZNA':'DRIZZLE',
 'NIEBLA':'FOG',
 'NEBLINA':'MIST',
 'NIEVE':'SNOW',
 'AGUA NIEVE':'SLEET',
 'MAR':'SEA',
 'CALMA':'CALM',
 'LLANA':'SMOOTH',
 'RIZADA':'RIPPLED',
 'MAREJADILLA':'SLIGHT',
 'MAREJADA':'MODERATE',
 'GRUESA':'ROUGH',
 'MUY':'VERY',
 'ALBOLADA':'HIGH',
 'COMO':'AS',
 'DE FONDO':'SWELL',
 'EN':'IN',
 'BAHIA':'BAY',
 'HORA LOCAL':'LOCAL TIME', 
 'EMITIDO':'ISSUE',
 'Y':'AND',
 'DE':'THE',



// MESES DE A√ëO 
  'ENE':'JAN',
  'FEB':'FEB',
  'MAR':'MAR',
  'ABR':'APR',
  'MAY':'MAY',
  'JUN':'JUN',
  'JUL':'JUL',
  'AGO':'AUG',
  'SEP':'SEP',
  'OCT':'OCT',
  'NOV':'NOV',
  'DIC':'DEC',
};

const dias = ['LUNES','MARTES','MIERCOLES','JUEVES','VIERNES','SABADO','DOMINGO'];
const reemplazos = { 'N':'NORTH','S':'SOUTH','E':'EAST','W':'WEST','NE':'NORTHEAST','SE':'SOUTHEAST','NW':'NORTHWEST','SW':'SOUTHWEST' };

function aplicarReglasEspeciales(texto){
  Object.keys(reglasEspeciales).forEach(key=>{
    texto = texto.replace(new RegExp("\\b"+key+"\\b","gi"), reglasEspeciales[key]);
  });
  return texto;
}

function translateDia(dia){
  const diasEng = {
    'LUNES':'MONDAY',
    'MARTES':'TUESDAY',
    'MIERCOLES':'WEDNESDAY',
    'JUEVES':'THURSDAY',
    'VIERNES':'FRIDAY',
    'SABADO':'SATURDAY',
    'DOMINGO':'SUNDAY'
  };
  return diasEng[dia.toUpperCase()] || dia;
}

function traducir(){
    let texto = document.getElementById('input').value.toUpperCase();
    texto = texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "");

    // üîπ Proteger abreviaturas con '/'
    const regexCompuestas = /\b(N|S|E|W|NE|NW|SE|SW)\/(N|S|E|W|NE|NW|SE|SW)\b/gi;
    const protecciones = [];
    texto = texto.replace(regexCompuestas, match=>{
        protecciones.push(match);
        return `@@PROTEGIDO${protecciones.length-1}@@`;
    });

    // üîπ Proteger "A.-" para que no se traduzca como TO
    texto = texto.replace(/\bA\.-/g, "@@PROTEGIDO_A@@");

    // Aplicar reglas especiales
    texto = aplicarReglasEspeciales(texto);

    // Diccionario general
    Object.keys(diccionario).forEach(key=>{
        texto = texto.replace(new RegExp("\\b"+key+"\\b","gi"), diccionario[key]);
    });

    // Reemplazos simples
    Object.keys(reemplazos).forEach(abrev=>{
        texto = texto.replace(new RegExp(`\\b${abrev}\\b`, 'g'), reemplazos[abrev]);
    });

    // Restaurar abreviaturas compuestas
    protecciones.forEach((val,i)=>{
        texto = texto.replace(`@@PROTEGIDO${i}@@`, val.toUpperCase());
    });

    // üîπ Restaurar "A.-"
    texto = texto.replace(/@@PROTEGIDO_A@@/g, "A.-");

    // Traducir d√≠as con n√∫mero
    dias.forEach(dia=>{
        texto = texto.replace(new RegExp(`\\b${dia}\\b\\s*(\\d{1,2})`,'gi'), (m,n)=>`${translateDia(dia)} ${n}.`);
    });

    // Limpieza de espacios y signos
    texto = texto.replace(/ {2,}/g,' ')
                 .replace(/ \//g,'/')
                 .replace(/\/ /g,'/')
                 .replace(/ ¬∞/g,'¬∞')
                 .replace(/¬∞ /g,'¬∞')
                 .replace(/ ,/g,',')
                 .replace(/ :/g,':')
                 .replace(/\( /g,'(')
                 .replace(/ \)/g,')')
                 .replace(/\n{2,}/g, '\n\n')
                 .split('\n').map(line => line.trim()).join('\n');

    document.getElementById('output').value = texto;
}

function reiniciar(){ 
  document.getElementById('input').value=''; 
  document.getElementById('output').value=''; 
}

function copiarTexto(){ 
  const output=document.getElementById('output'); 
  output.select(); 
  output.setSelectionRange(0,99999); 
  navigator.clipboard.writeText(output.value)
    .then(()=>alert('Texto copiado al portapapeles ‚úÖ'))
    .catch(()=>alert('Error al copiar el texto ‚ùå')); 
}
</script>

<footer style="text-align:center;margin-top:40px;color:#cfd8dc;font-weight:600;">
<div style="width:100%;height:1px;background:linear-gradient(90deg,transparent,#00c6ff,transparent);margin-bottom:10px;"></div>
CREADO POR CABO 2¬∫ (MET.) FRANCISCO SALAS MU√ëOZ
</footer>

</body>
</html>
